{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"Add New\");\n\nconst _hoisted_2 = {\n  class: \"table is-striped is-bordered mt-2 is-fullwidth\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Vivienda - Direccion\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Capacidad\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Niveles\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Municipio\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  class: \"has-text-centered\"\n}, \"Actions\")])], -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  class: \"has-text-centered\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"Edit\");\n\nconst _hoisted_6 = [\"onClick\"];\nexport function render(_ctx, _cache) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'Create'\n    },\n    class: \"button is-success mt-5\"\n  }, {\n    default: _withCtx(() => [_hoisted_1]),\n    _: 1\n    /* STABLE */\n\n  }), _createElementVNode(\"table\", _hoisted_2, [_hoisted_3, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.items, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.ID_VIV\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.DIRECCION), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(item.CAPACIDAD), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(item.NIVELES), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(item.MUNICIPIO_ID_MUN), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", _hoisted_4, [_createVNode(_component_router_link, {\n      to: {\n        name: 'Edit',\n        params: {\n          id: item.ID_VIV\n        }\n      },\n      class: \"button is-info is-small\"\n    }, {\n      default: _withCtx(() => [_hoisted_5]),\n      _: 2\n      /* DYNAMIC */\n\n    }, 1032\n    /* PROPS, DYNAMIC_SLOTS */\n    , [\"to\"]), _createElementVNode(\"a\", {\n      class: \"button is-danger is-small\",\n      onClick: $event => _ctx.deleteVivienda(item.ID_VIV)\n    }, \"Delete\", 8\n    /* PROPS */\n    , _hoisted_6)])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])]);\n}","map":{"version":3,"mappings":";;iDAGO;;;AAEIA,OAAK,EAAC;;;gCACXC,oBAQQ,OARR,EAQQ,IARR,EAQQ,cAPNA,oBAMK,IANL,EAMK,IANL,EAMK,cALHA,oBAA6B,IAA7B,EAA6B,IAA7B,EAAI,sBAAJ,CAKG,eAJHA,oBAAkB,IAAlB,EAAkB,IAAlB,EAAI,WAAJ,CAIG,eAHHA,oBAAgB,IAAhB,EAAgB,IAAhB,EAAI,SAAJ,CAGG,eAFHA,oBAAkB,IAAlB,EAAkB,IAAlB,EAAI,WAAJ,CAEG,eADHA,oBAA0C,IAA1C,EAA0C;AAAtCD,OAAK,EAAC;AAAgC,CAA1C,EAA8B,SAA9B,CACG,CANL,CAOM,CARR;;AAAA;;;AAeQA,OAAK,EAAC;;;iDAIL;;;;;;uBAxBbE,oBAmCM,KAnCN,EAmCM,IAnCN,EAmCM,CAlCJC,aAECC,sBAFD,EAEC;AAFaC,MAAE,EAAE;AAAAC;AAAA,KAEjB;AAFqCN,SAAK,EAAC;AAE3C,GAFD;sBACG,MAAO;;;;GADV,CAkCI,EA/BJC,oBA8BQ,OA9BR,cA8BQ,CA7BNM,UA6BM,EApBNN,oBAmBQ,OAnBR,EAmBQ,IAnBR,EAmBQ,oBAlBNC,oBAiBKM,SAjBL,EAiBK,IAjBL,EAiBKC,YAjBcC,UAiBd,EAjBMC,IAAa,IAAT;yBAAfT,oBAiBK,IAjBL,EAiBK;AAjBsBU,SAAG,EAAED,IAAI,CAACE;AAiBhC,KAjBL,GACEZ,oBAA6B,IAA7B,EAA6B,IAA7B,EAA6Ba,iBAAtBH,IAAI,CAACI,SAAiB,CAA7B,EAAqB;AAAA;AAArB,OACAd,oBAA6B,IAA7B,EAA6B,IAA7B,EAA6Ba,iBAAtBH,IAAI,CAACK,SAAiB,CAA7B,EAAqB;AAAA;AAArB,OACAf,oBAA2B,IAA3B,EAA2B,IAA3B,EAA2Ba,iBAApBH,IAAI,CAACM,OAAe,CAA3B,EAAmB;AAAA;AAAnB,OACAhB,oBAAoC,IAApC,EAAoC,IAApC,EAAoCa,iBAA7BH,IAAI,CAACO,gBAAwB,CAApC,EAA4B;AAAA;AAA5B,OACAjB,oBAWK,IAXL,cAWK,CAVHE,aAICC,sBAJD,EAIC;AAHEC,QAAE;AAAAC;AAAAa;AAAAC,cAAgCT,IAAI,CAACE;AAArC;AAAA,OAGJ;AAFCb,WAAK,EAAC;AAEP,KAJD;wBAGG,MAAI;;;;KAHP;;AAAA,aAUG,EALHC,oBAIC,GAJD,EAIC;AAHCD,WAAK,EAAC,2BAGP;AAFEqB,aAAK,YAAEX,oBAAeC,IAAI,CAACE,MAApB;AAET,KAJD,EAGG,QAHH,EAGS;AAAA;AAHT,MAGSS,UAHT,CAKG,CAXL,EALF;GAiBK,CAjBL;;AAAA,GAkBM,EAnBR,CAoBM,CA9BR,CA+BI,CAnCN","names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_router_link","to","name","_hoisted_3","_Fragment","_renderList","_ctx","item","key","ID_VIV","_toDisplayString","DIRECCION","CAPACIDAD","NIVELES","MUNICIPIO_ID_MUN","params","id","onClick","_hoisted_6"],"sourceRoot":"","sources":["C:\\Users\\xabel\\Documents\\NodeJs practices\\Ingesoft\\frontend\\src\\components\\ViviendaList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <router-link :to=\"{ name: 'Create' }\" class=\"button is-success mt-5\"\r\n      >Add New</router-link\r\n    >\r\n    <table class=\"table is-striped is-bordered mt-2 is-fullwidth\">\r\n      <thead>\r\n        <tr>\r\n          <th>Vivienda - Direccion</th>\r\n          <th>Capacidad</th>\r\n          <th>Niveles</th>\r\n          <th>Municipio</th>\r\n          <th class=\"has-text-centered\">Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in items\" :key=\"item.ID_VIV\">\r\n          <td>{{ item.DIRECCION }}</td>\r\n          <td>{{ item.CAPACIDAD }}</td>\r\n          <td>{{ item.NIVELES }}</td>\r\n          <td>{{ item.MUNICIPIO_ID_MUN }}</td>\r\n          <td class=\"has-text-centered\">\r\n            <router-link\r\n              :to=\"{ name: 'Edit', params: { id: item.ID_VIV } }\"\r\n              class=\"button is-info is-small\"\r\n              >Edit</router-link\r\n            >\r\n            <a\r\n              class=\"button is-danger is-small\"\r\n              @click=\"deleteVivienda(item.ID_VIV)\"\r\n              >Delete</a\r\n            >\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n \r\n<script>\r\n// import axios\r\nimport axios from \"axios\";\r\n \r\nexport default {\r\n  name: \"ViviendaList\",\r\n  data() {\r\n    return {\r\n      items: [],\r\n      municipio : [],\r\n    };\r\n  },\r\n \r\n  created() {\r\n    this.getViviendas();\r\n  },\r\n \r\n  methods: {\r\n    async getViviendas() {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:5000/viviendas\");\r\n        this.items = response.data;\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n \r\n    async deleteViviendas(id) {\r\n      try {\r\n        await axios.delete(`http://localhost:5000/viviendas/${id}`);\r\n        this.getViviendas();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async getMunicipio(id) {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:5000/viviendas/${id}`);\r\n        await axios.delete(`http://localhost:5000/municipios/${id}`);\r\n        this.getViviendas();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n \r\n<style>\r\n</style>"]},"metadata":{},"sourceType":"module"}