{"ast":null,"code":"// import axios\nimport axios from \"axios\";\nexport default {\n  name: \"EditVivienda\",\n\n  data() {\n    return {\n      viviendaDireccion: \"\",\n      viviendaCapacidad: \"\",\n      viviendaNiveles: \"\",\n      viviendaMunicipio: \"\",\n      municipioNombre: \"\",\n      municipios: [],\n      selectedMun: null\n    };\n  },\n\n  created: function () {\n    this.getViviendaById();\n    this.getMunicipios();\n  },\n  methods: {\n    async getViviendaById() {\n      try {\n        const response = await axios.get(`http://localhost:5000/viviendas/${this.$route.params.id}`);\n        this.viviendaDireccion = response.data.DIRECCION;\n        this.viviendaCapacidad = response.data.CAPACIDAD;\n        this.viviendaNiveles = response.data.NIVELES;\n        this.viviendaMunicipio = response.data.MUNICIPIO_ID_MUN;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n    async updateVivienda() {\n      try {\n        await axios.put(`http://localhost:5000/viviendas/${this.$route.params.id}`, {\n          DIRECCION: this.viviendaDireccion,\n          CAPACIDAD: this.viviendaCapacidad,\n          NIVELES: this.viviendaNiveles,\n          MUNICIPIO_ID_MUN: this.selectedMun\n        });\n        this.viviendaDireccion = \"\";\n        this.viviendaCapacidad = \"\";\n        this.viviendaNiveles = \"\";\n        this.$router.push(\"/viviendas\");\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n    async getMunicipios() {\n      try {\n        const response = await axios.get(\"http://localhost:5000/municipios\");\n        this.municipios = response.data;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n    changeMun(event) {\n      this.selectedMun = event.target.options[event.target.options.selectedIndex].text;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA0DA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,MAAI,EAAE,cADO;;AAEbC,MAAI,GAAG;AACL,WAAO;AACLC,uBAAiB,EAAE,EADd;AAELC,uBAAiB,EAAE,EAFd;AAGLC,qBAAe,EAAE,EAHZ;AAILC,uBAAiB,EAAE,EAJd;AAKLC,qBAAe,EAAE,EALZ;AAMLC,gBAAU,EAAE,EANP;AAOLC,iBAAW,EAAE;AAPR,KAAP;AASD,GAZY;;AAabC,SAAO,EAAE,YAAY;AACnB,SAAKC,eAAL;AACA,SAAKC,aAAL;AACD,GAhBY;AAiBbC,SAAO,EAAE;AACP,UAAMF,eAAN,GAAwB;AACtB,UAAI;AACF,cAAMG,QAAO,GAAI,MAAMd,KAAK,CAACe,GAAN,CACpB,mCAAkC,KAAKC,MAAL,CAAYC,MAAZ,CAAmBC,EAAG,EADpC,CAAvB;AAGA,aAAKf,iBAAL,GAAyBW,QAAQ,CAACZ,IAAT,CAAciB,SAAvC;AACA,aAAKf,iBAAL,GAAyBU,QAAQ,CAACZ,IAAT,CAAckB,SAAvC;AACA,aAAKf,eAAL,GAAuBS,QAAQ,CAACZ,IAAT,CAAcmB,OAArC;AACA,aAAKf,iBAAL,GAAyBQ,QAAQ,CAACZ,IAAT,CAAcoB,gBAAvC;AACF,OARA,CAQE,OAAOC,GAAP,EAAY;AACZC,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACF;AACD,KAbM;;AAeP,UAAMG,cAAN,GAAuB;AACrB,UAAI;AACF,cAAM1B,KAAK,CAAC2B,GAAN,CACH,mCAAkC,KAAKX,MAAL,CAAYC,MAAZ,CAAmBC,EAAG,EADrD,EAEJ;AACEC,mBAAS,EAAE,KAAKhB,iBADlB;AAEEiB,mBAAS,EAAE,KAAKhB,iBAFlB;AAGEiB,iBAAO,EAAE,KAAKhB,eAHhB;AAIEiB,0BAAgB,EAAE,KAAKb;AAJzB,SAFI,CAAN;AASA,aAAKN,iBAAL,GAAyB,EAAzB;AACA,aAAKC,iBAAL,GAAyB,EAAzB;AACA,aAAKC,eAAL,GAAuB,EAAvB;AACA,aAAKuB,OAAL,CAAaC,IAAb,CAAkB,YAAlB;AACF,OAdA,CAcE,OAAON,GAAP,EAAY;AACZC,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACF;AACD,KAjCM;;AAkCP,UAAMX,aAAN,GAAsB;AACpB,UAAI;AACF,cAAME,QAAO,GAAI,MAAMd,KAAK,CAACe,GAAN,CAAU,kCAAV,CAAvB;AACA,aAAKP,UAAL,GAAkBM,QAAQ,CAACZ,IAA3B;AACF,OAHA,CAGE,OAAOqB,GAAP,EAAY;AACZC,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACF;AACD,KAzCM;;AA0CPO,aAAS,CAACC,KAAD,EAAQ;AACb,WAAKtB,WAAL,GAAmBsB,KAAK,CAACC,MAAN,CAAaC,OAAb,CAAqBF,KAAK,CAACC,MAAN,CAAaC,OAAb,CAAqBC,aAA1C,EAAyDC,IAA5E;AACH;;AA5CM;AAjBI,CAAf","names":["axios","name","data","viviendaDireccion","viviendaCapacidad","viviendaNiveles","viviendaMunicipio","municipioNombre","municipios","selectedMun","created","getViviendaById","getMunicipios","methods","response","get","$route","params","id","DIRECCION","CAPACIDAD","NIVELES","MUNICIPIO_ID_MUN","err","console","log","updateVivienda","put","$router","push","changeMun","event","target","options","selectedIndex","text"],"sourceRoot":"","sources":["C:\\Users\\xabel\\Documents\\NodeJs practices\\Ingesoft\\frontend\\src\\components\\EditVivienda.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"field\">\r\n      <label class=\"label\">Vivienda</label>\r\n      <div class=\"control\">\r\n        <input\r\n          class=\"input\"\r\n          type=\"text\"\r\n          placeholder=\"Municipio Name\"\r\n          v-model=\"viviendaDireccion\"\r\n        />\r\n      </div>\r\n    </div>\r\n \r\n     <div class=\"field\">\r\n      <label class=\"label\">Capacidad</label>\r\n      <div class=\"control\">\r\n        <input\r\n          class=\"input\"\r\n          type=\"text\"\r\n          placeholder=\"Capacidad\"\r\n          v-model=\"viviendaCapacidad\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"field\">\r\n      <label class=\"label\">Niveles</label>\r\n      <div class=\"control\">\r\n        <input\r\n          class=\"input\"\r\n          type=\"text\"\r\n          placeholder=\"Presupuesto\"\r\n          v-model=\"viviendaNiveles\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"field\">\r\n      <label class=\"label\">ID MUN</label>\r\n      <div class=\"control\">\r\n          <div class=\"select\">\r\n        <select class=\"form-control\" @change=\"changeMun($event)\">\r\n            <option value=\"\" selected disabled>Choose</option>\r\n            <option v-for=\"municipio in municipios\" :value=\"municipio.ID_MUN\" :key=\"municipio.ID_MUN\">{{ municipio.ID_MUN }}</option>\r\n        </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"control\">\r\n      <button class=\"button is-success\" @click=\"updateMunicipio\">UPDATE</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n \r\n<script>\r\n// import axios\r\nimport axios from \"axios\";\r\n \r\nexport default {\r\n  name: \"EditVivienda\",\r\n  data() {\r\n    return {\r\n      viviendaDireccion: \"\",\r\n      viviendaCapacidad: \"\",\r\n      viviendaNiveles: \"\",\r\n      viviendaMunicipio: \"\",\r\n      municipioNombre: \"\",\r\n      municipios: [],\r\n      selectedMun: null,\r\n    };\r\n  },\r\n  created: function () {\r\n    this.getViviendaById();\r\n    this.getMunicipios();\r\n  },\r\n  methods: {\r\n    async getViviendaById() {\r\n      try {\r\n        const response = await axios.get(\r\n          `http://localhost:5000/viviendas/${this.$route.params.id}`\r\n        );\r\n        this.viviendaDireccion = response.data.DIRECCION;\r\n        this.viviendaCapacidad = response.data.CAPACIDAD\r\n        this.viviendaNiveles = response.data.NIVELES;\r\n        this.viviendaMunicipio = response.data.MUNICIPIO_ID_MUN;\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n \r\n    async updateVivienda() {\r\n      try {\r\n        await axios.put(\r\n          `http://localhost:5000/viviendas/${this.$route.params.id}`,\r\n          {\r\n            DIRECCION: this.viviendaDireccion,\r\n            CAPACIDAD: this.viviendaCapacidad,\r\n            NIVELES: this.viviendaNiveles,\r\n            MUNICIPIO_ID_MUN: this.selectedMun,\r\n          }\r\n        );\r\n        this.viviendaDireccion = \"\";\r\n        this.viviendaCapacidad = \"\";\r\n        this.viviendaNiveles = \"\"\r\n        this.$router.push(\"/viviendas\");\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async getMunicipios() {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:5000/municipios\");\r\n        this.municipios = response.data;\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    changeMun(event) {\r\n        this.selectedMun = event.target.options[event.target.options.selectedIndex].text\r\n    },\r\n  },\r\n};\r\n</script>\r\n \r\n<style>\r\n</style>"]},"metadata":{},"sourceType":"module"}